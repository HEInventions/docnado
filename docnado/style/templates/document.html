{% extends "base.html" %}

{% block title %}
    <title>{{ title | first }}</title>
{% endblock %}


{% block content %}

    {% if title is defined %}
    <div class="page-header">
        <h1 class="display-4">{{ title | first }} </h1>
        <p class="lead">{{ desc | first }}</p>
        <p>
            <span class="version">V{{ version | first }}</span>
            {% for email in authors %}
            <img src="{{ email | gravatar }}" class="avatar" alt="{{ email }}" title="{{ email }}" />
            {% endfor %}
            <small>last updated <span>{{ date | first | timesince }}</span> on <span>{{ date | first }}</span></small>
        </p>

        {% if percent and percent != ['100'] %}
            <hr class="my-4">
            <p>This document is approximately {{ percent | first }}% complete.
                <div class="progress">
                  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width:  {{ percent | first }}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                </p>
        {% endif %}
    </div>
    <br/>
    {% endif %}

    <div class="page-md">
        {{ content }}
    </div>

{% endblock %}

{% block script %}
<script type="text/javascript">

    // Fix the gravatar icon if the gravatar fails to load.
    $('.page-header img.avatar').on('error', function(){
        let avatar = $(this);
        avatar.attr('src', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAACCElEQVRIS+2VO0sDQRSFE/ARX62CFprCThTNc9OkCqaINhLQKqiQ1ohN0CJgZaGFxD+iELG0EX+CoL2FIFFBLOM55mCVNTM7sRD84LJzz9x7dvY1G/qnG8lkMorYjsfjhwyMt6hpuvfgJHOIq1gs9oo4x/iYwTE1zrFG5b0BV7QB8yaM97PZ7Kjkb6hxjjWpVGpdshuJRCIPw2ecPC3JF9awlj2SgpHJZMZwJY+IFUldYS172CvJHlzBLq7gUqkx7GGvUntgcIPVryk1hj3sVWoPDN5xyyaVGpNOp6fYq9SOfD4/iFW38MZGJBlTKpUi7C0WiwOS7OCquXqlxjhdMeFzwndp/YzZ4/SM0Rz4rWavUnsCfser7HH6jgl2oWWs3mjnQq3HWvZIcgNGVRh+4Hjgt1dzTjVVyW7gtlVgyL/PKaLBMeIC4xMGx5pvIOoYv+FYUXsgwlj9GYzu8ZbOS+MbOwPjTcTX/5hjz/OmNc1tdgE9D+xFGm6rFvDWwfQOpuOSjMHiJthLD0lmoCGOVfPfOivJGvbSg16SuoOGazTsKQ0MPeil9GdwaxdR/IRtb0hSYOghryVJ/uDZHCHqSp2hFz2V+oOiW4TxTtUNetFTqT8oeuEno9QZfF5ReDaVdqZcLvfjmbQKhcKwJGdyudwIPWu1Wp+kjoSxuh0e22lP+A3PP0co9AlOca7xK4NYXAAAAABJRU5ErkJggg==');
    });

    $(document).ready(function() {

        // // Apply CSS specific to a table in a *parts* heading.
        // $('.page-md #parts + table')
        //     .addClass('parts')
        // //     .addClass('table thead-light table-hover')
        // //     //.css('position', 'absolute')
        //     //.css('width', '60%');
    });

</script>
{% endblock %}
